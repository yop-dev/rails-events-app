<!DOCTYPE html>
<html>
<head>
  <title>Event Registration System</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    .container { max-width: 800px; margin: 0 auto; text-align: center; }
    .user-options { display: flex; justify-content: space-around; margin-top: 40px; }
    .option { border: 1px solid #ddd; padding: 20px; border-radius: 5px; }
    .btn { padding: 10px 20px; margin: 5px; text-decoration: none; border-radius: 3px; display: inline-block; }
    .btn-primary { background-color: #007bff; color: white; }
    .btn-danger { background-color: #dc3545; color: white; }
    .btn-secondary { background-color: #6c757d; color: white; }
    .btn-warning { background-color: #ffc107; color: black; }
    .user-info { background-color: #f8f9fa; padding: 20px; border-radius: 5px; margin-bottom: 20px; }
  </style>
</head>
<body>
  <div class="container">
    <% if user_signed_in? %>
      <!-- Signed in user dashboard -->
      <div class="user-info">
        <h1>Welcome back, <%= current_user.email %>!</h1>
        <p>You are signed in as: <strong><%= current_user.admin? ? 'Administrator' : 'Regular User' %></strong></p>
        
        <div style="margin-top: 15px;">
          <% if current_user.admin? %>
            <%= link_to "Go to Admin Dashboard", admin_root_path, class: "btn btn-danger" %>
          <% else %>
            <p>ðŸŽ‰ Ready to create and manage events!</p>
            <!-- Events functionality will be added here -->
          <% end %>
          
          <%= link_to "Logout", destroy_user_session_path, 
                      data: { 
                        turbo_method: :delete,
                        turbo_confirm: "Are you sure you want to log out?" 
                      }, 
                      class: "btn btn-secondary" %>
        </div>
      </div>
      
    <% else %>
      <!-- Guest user landing page -->
      <h1>Event Registration System</h1>
      <p>Welcome! Please choose your account type to continue.</p>

      <div class="user-options">
        <div class="option">
          <h3>ðŸ‘¤ Regular User</h3>
          <p>Create and manage events<br>Register for events</p>
          <div>
            <%= link_to "Sign Up", new_user_registration_path, class: "btn btn-primary" %>
            <%= link_to "Sign In", new_user_session_path, class: "btn btn-secondary" %>
          </div>
        </div>

        <div class="option">
        <h3>âš¡ Administrator</h3>
        <p>Manage all events and users<br>System administration</p>
        <div>
            <%= link_to "Admin Register", new_admin_user_registration_path, class: "btn btn-danger" %>
            <%= link_to "Admin Login", new_admin_user_session_path, class: "btn btn-warning" %>
        </div>
        </div>

      </div>
    <% end %>
  </div>
</body>
</html>
